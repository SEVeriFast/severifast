ROOT_DIR="${SCRIPT_DIR}/../"
BIN_DIR="${ROOT_DIR}/bin"

# repo urls
LINUX_SRC_URL="https://github.com/severifast/linux"
QEMU_SRC_URL="https://github.com/severifast/qemu"
FC_SRC_URL="https://github.com/severifast/firecracker"
FW_SRC_URL="https://github.com/bencw12/rust-hypervisor-firmware"
OVMF_SRC_URL="https://github.com/bencw12/ovmf"
SEV_TOOL_SRC_URL="https://github.com/AMDESE/sev-tool"
SEV_GUEST_SRC_URL="https://github.com/AMDESE/sev-guest"
SNP_HOST_SRC_URL="https://github.com/virtee/snphost"	

# source tree dirs
SRC_TREE_DIR="${SCRIPT_DIR}/../src"
LINUX_SRC_DIR="${SRC_TREE_DIR}/linux"
QEMU_SRC_DIR="${SRC_TREE_DIR}/qemu"
FC_SRC_DIR="${SRC_TREE_DIR}/firecracker"
FW_SRC_DIR="${SRC_TREE_DIR}/rust-hypervisor-firmware"
OVMF_SRC_DIR="${SRC_TREE_DIR}/ovmf"
KERNEL_HASHER_DIR="${ROOT_DIR}/kernel-hasher"
SEV_TOOL_SRC_DIR="${SRC_TREE_DIR}/sev-tool"
SEV_GUEST_SRC_DIR="${SRC_TREE_DIR}/sev-guest"
SNP_HOST_SRC_DIR="${SRC_TREE_DIR}/snphost"

# paths to guest kernel configs
CONFIGS_DIR="${ROOT_DIR}/kernel-configs"
# kernel builds
BZIMAGE_BUILD="${LINUX_SRC_DIR}/arch/x86/boot/bzImage"
VMLINUX_BUILD="${LINUX_SRC_DIR}/arch/x86/boot/compressed/vmlinux.bin"
# dir for all guest kernels
KERNELS_DIR="${ROOT_DIR}/kernels"
# host kernel packages
HOST_KERNEL_BUILD_DIR="${ROOT_DIR}/host"

# qemu build path
QEMU_BUILD="${QEMU_SRC_DIR}/build/qemu-system-x86_64"

# firecracker build path
FC_BUILD="${FC_SRC_DIR}/build/cargo_target/x86_64-unknown-linux-musl/release/firecracker"

# rust firmware build path
FW_BUILD="${BIN_DIR}/snp-fw.bin"
FW_BUILD_DIRECT_BOOT="${BIN_DIR}/snp-direct-boot-fw.bin"
ES_FW_BUILD="${BIN_DIR}/sev-es-fw.bin"
ES_FW_BUILD_DIRECT_BOOT="${BIN_DIR}/sev-es-direct-boot-fw.bin"

# ovmf build path
OVMF_BUILD="${OVMF_SRC_DIR}/Build/AmdSev/RELEASE_GCC5/FV/OVMF.fd"

KERNEL_HASHER=${KERNEL_HASHER_DIR}/target/release/kernel-hasher